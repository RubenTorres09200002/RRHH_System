{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterFuncionario=()=>{const[funcionarios,setFuncionarios]=useState([]);const[nombres,setNombres]=useState('');const[apellidos,setApellidos]=useState('');const[cedula,setCedula]=useState('');const[fechaNacimiento,setFechaNacimiento]=useState('');const[error,setError]=useState('');useEffect(()=>{fetchFuncionarios();},[]);const fetchFuncionarios=async()=>{try{const response=await axios.get('http://localhost:44383/api/funcionarios');setFuncionarios(response.data);}catch(error){console.error(\"Error fetching funcionarios:\",error);setError('Error al obtener los funcionarios.');}};const handleSubmit=async e=>{e.preventDefault();setError('');// Reset error message\ntry{await axios.post('http://localhost:44383/api/funcionarios',{nombres,apellidos,cedula,fechaNacimiento});fetchFuncionarios();// Fetch updated list after successful submission\nsetNombres('');// Clear input fields\nsetApellidos('');setCedula('');setFechaNacimiento('');}catch(error){console.error(\"Error submitting funcionario:\",error);setError('Error al registrar el funcionario. Verifica la información.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Registrar Funcionario\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:nombres,onChange:e=>setNombres(e.target.value),placeholder:\"Nombres\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:apellidos,onChange:e=>setApellidos(e.target.value),placeholder:\"Apellidos\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:cedula,onChange:e=>setCedula(e.target.value),placeholder:\"C\\xE9dula\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:fechaNacimiento,onChange:e=>setFechaNacimiento(e.target.value),type:\"date\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:funcionarios.map(funcionario=>/*#__PURE__*/_jsxs(\"li\",{children:[funcionario.nombres,\" \",funcionario.apellidos]},funcionario.id))})]});};export default RegisterFuncionario;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","RegisterFuncionario","funcionarios","setFuncionarios","nombres","setNombres","apellidos","setApellidos","cedula","setCedula","fechaNacimiento","setFechaNacimiento","error","setError","fetchFuncionarios","response","get","data","console","handleSubmit","e","preventDefault","post","children","style","color","onSubmit","value","onChange","target","placeholder","required","type","map","funcionario","id"],"sources":["C:/Users/Ruben Torres/RiderProjects/RRHH_System/src/components/RegisterFuncionario.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst RegisterFuncionario = () => {\r\n    const [funcionarios, setFuncionarios] = useState([]);\r\n    const [nombres, setNombres] = useState('');\r\n    const [apellidos, setApellidos] = useState('');\r\n    const [cedula, setCedula] = useState('');\r\n    const [fechaNacimiento, setFechaNacimiento] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchFuncionarios();\r\n    }, []);\r\n\r\n    const fetchFuncionarios = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:44383/api/funcionarios');\r\n            setFuncionarios(response.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching funcionarios:\", error);\r\n            setError('Error al obtener los funcionarios.');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError(''); // Reset error message\r\n\r\n        try {\r\n            await axios.post('http://localhost:44383/api/funcionarios', { nombres, apellidos, cedula, fechaNacimiento });\r\n            fetchFuncionarios(); // Fetch updated list after successful submission\r\n            setNombres(''); // Clear input fields\r\n            setApellidos('');\r\n            setCedula('');\r\n            setFechaNacimiento('');\r\n        } catch (error) {\r\n            console.error(\"Error submitting funcionario:\", error);\r\n            setError('Error al registrar el funcionario. Verifica la información.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Registrar Funcionario</h1>\r\n            {error && <p style={{ color: 'red' }}>{error}</p>}\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    value={nombres}\r\n                    onChange={e => setNombres(e.target.value)}\r\n                    placeholder=\"Nombres\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={apellidos}\r\n                    onChange={e => setApellidos(e.target.value)}\r\n                    placeholder=\"Apellidos\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={cedula}\r\n                    onChange={e => setCedula(e.target.value)}\r\n                    placeholder=\"Cédula\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={fechaNacimiento}\r\n                    onChange={e => setFechaNacimiento(e.target.value)}\r\n                    type=\"date\"\r\n                    required\r\n                />\r\n                <button type=\"submit\">Registrar</button>\r\n            </form>\r\n            <ul>\r\n                {funcionarios.map(funcionario => (\r\n                    <li key={funcionario.id}>{funcionario.nombres} {funcionario.apellidos}</li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterFuncionario;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}