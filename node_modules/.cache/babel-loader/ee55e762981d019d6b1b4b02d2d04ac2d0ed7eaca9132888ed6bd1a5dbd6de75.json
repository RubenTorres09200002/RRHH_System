{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./components/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegistrarFuncionario=()=>{const[funcionarios,setFuncionarios]=useState([]);const[nombres,setNombres]=useState('');const[apellidos,setApellidos]=useState('');const[cedula,setCedula]=useState('');const[fechaNacimiento,setFechaNacimiento]=useState('');const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');// Estado para el mensaje de éxito\nuseEffect(()=>{fetchFuncionarios();},[]);const fetchFuncionarios=async()=>{try{const response=await axios.get('api/funcionarios');setFuncionarios(response.data);}catch(error){console.error(\"Error fetching funcionarios:\",error);setError('Error al obtener los funcionarios.');}};const handleSubmit=async e=>{e.preventDefault();setError('');// Reset error message\nsetSuccessMessage('');// Reset success message\ntry{await axios.post('api/funcionarios',{nombres,apellidos,cedula,fechaNacimiento});setSuccessMessage('Funcionario registrado exitosamente.');// Mensaje de éxito\nfetchFuncionarios();// Fetch updated list after successful submission\nsetNombres('');// Clear input fields\nsetApellidos('');setCedula('');setFechaNacimiento('');}catch(error){var _error$response,_error$response$data;console.error(\"Error submitting funcionario:\",error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Error al registrar el funcionario. Verifica la información.');// Mostrar mensaje de error del backend\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{children:\"Registrar Funcionario\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),\" \",successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success\",children:successMessage}),\" \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:nombres,onChange:e=>setNombres(e.target.value),placeholder:\"Nombres\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:apellidos,onChange:e=>setApellidos(e.target.value),placeholder:\"Apellidos\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:cedula,onChange:e=>setCedula(e.target.value),placeholder:\"C\\xE9dula\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:fechaNacimiento,onChange:e=>setFechaNacimiento(e.target.value),type:\"date\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar\"})]})]});};export default RegistrarFuncionario;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","RegistrarFuncionario","funcionarios","setFuncionarios","nombres","setNombres","apellidos","setApellidos","cedula","setCedula","fechaNacimiento","setFechaNacimiento","error","setError","successMessage","setSuccessMessage","fetchFuncionarios","response","get","data","console","handleSubmit","e","preventDefault","post","_error$response","_error$response$data","message","className","children","onSubmit","value","onChange","target","placeholder","required","type"],"sources":["C:/Users/Ruben Torres/RiderProjects/RRHH_System/src/RegistrarFuncionario.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './components/App.css';\r\n\r\nconst RegistrarFuncionario = () => {\r\n    const [funcionarios, setFuncionarios] = useState([]);\r\n    const [nombres, setNombres] = useState('');\r\n    const [apellidos, setApellidos] = useState('');\r\n    const [cedula, setCedula] = useState('');\r\n    const [fechaNacimiento, setFechaNacimiento] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState(''); // Estado para el mensaje de éxito\r\n\r\n    useEffect(() => {\r\n        fetchFuncionarios();\r\n    }, []);\r\n\r\n    const fetchFuncionarios = async () => {\r\n        try {\r\n            const response = await axios.get('api/funcionarios');\r\n            setFuncionarios(response.data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching funcionarios:\", error);\r\n            setError('Error al obtener los funcionarios.');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError(''); // Reset error message\r\n        setSuccessMessage(''); // Reset success message\r\n\r\n        try {\r\n            await axios.post('api/funcionarios', { nombres, apellidos, cedula, fechaNacimiento });\r\n            setSuccessMessage('Funcionario registrado exitosamente.'); // Mensaje de éxito\r\n            fetchFuncionarios(); // Fetch updated list after successful submission\r\n            setNombres(''); // Clear input fields\r\n            setApellidos('');\r\n            setCedula('');\r\n            setFechaNacimiento('');\r\n        } catch (error) {\r\n            console.error(\"Error submitting funcionario:\", error);\r\n            setError(error.response?.data?.message || 'Error al registrar el funcionario. Verifica la información.'); // Mostrar mensaje de error del backend\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\"> {/* Añadir la clase container */}\r\n            <h1>Registrar Funcionario</h1>\r\n            {error && <p className=\"error\">{error}</p>} {/* Usar la clase error */}\r\n            {successMessage && <p className=\"success\">{successMessage}</p>} {/* Mensaje de éxito */}\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    value={nombres}\r\n                    onChange={e => setNombres(e.target.value)}\r\n                    placeholder=\"Nombres\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={apellidos}\r\n                    onChange={e => setApellidos(e.target.value)}\r\n                    placeholder=\"Apellidos\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={cedula}\r\n                    onChange={e => setCedula(e.target.value)}\r\n                    placeholder=\"Cédula\"\r\n                    required\r\n                />\r\n                <input\r\n                    value={fechaNacimiento}\r\n                    onChange={e => setFechaNacimiento(e.target.value)}\r\n                    type=\"date\"\r\n                    required\r\n                />\r\n                <button type=\"submit\">Registrar</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegistrarFuncionario;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}